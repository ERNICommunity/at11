<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <title>@11</title>
    <link rel="icon" type="image/x-icon" href="img/favicon.ico"/>
    <meta name="description" content="Obedové menu pri ERNI SK">

    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>

    <link href="css/style2.css" type="text/css" rel="stylesheet">

</head>
<body>
<script type="text/javascript">
    $(function () {
        selectRestaurant(1);

        $(document).keyup(function (e) {
            e.preventDefault();

            if (e.keyCode == 38) { //UP arrow
                var selectedRestaurant = parseInt(findSelectedRestaurantId());
                var restaurantCount = $('#navigationBar li').length + 1;

                unSelectRestaurant(selectedRestaurant);
                selectedRestaurant = (selectedRestaurant - 1 + restaurantCount) % restaurantCount;
                if (selectedRestaurant == 0) selectedRestaurant = restaurantCount - 1;
                selectRestaurant(selectedRestaurant)

            }
            if (e.keyCode == 40) { //DOWN arrow
                var selectedRestaurant = parseInt(findSelectedRestaurantId());
                var restaurantCount = $('#navigationBar li').length + 1;

                unSelectRestaurant(selectedRestaurant);
                selectedRestaurant = (selectedRestaurant + 1) % restaurantCount;
                if (selectedRestaurant == 0) selectedRestaurant = 1;
                selectRestaurant(selectedRestaurant)
            }

        });
    });

    function selectRestaurant(id) {
        $('#navigationBar li a[href="\\#restaurant' + id + '"]').parent().addClass('active');
        $('#restaurant' + id).addClass('active');
    }

    function unSelectRestaurant(id) {
        $('#navigationBar li a[href="\\#restaurant' + id + '"]').parent().removeClass('active');
        $('#restaurant' + id).removeClass('active');
    }

    function findSelectedRestaurantId() {
        var activeRestaurant = $('#navigationBar .active').children().get(0);
        return $(activeRestaurant).attr('href').slice("#restaurant".length)
    }

</script>

<div class="container-fluid well">

    <div class="fluid-row">
        <div class="col-md-2 col-md-offset-1 vcenter">
            <h1>Dnešné menu</h1>
        </div>
        <div class="col-md-2 vcenter">
            <h3>{{date}}</h3>
        </div>
    </div>

</div>

<div class="container-fluid">

    <div class="row-fluid">
        <div class="col-md-12">
            <form style="float: right; margin-right: 20px;">
                <input type="hidden" name="theme" value="index"/>
                <button type="submit" class="btn btn-lg">Prepnúť tému</button>
            </form>
        </div>
    </div>

    <div class="row-fluid" style="margin-left: 20px;">

        <ul id="navigationBar" class="nav nav-pills nav-stacked col-md-2">
            {{#each restaurants}}
            <li><a href="#restaurant{{this.id}}" style="outline: 0;" data-toggle="pill">{{this.name}}</a></li>
            {{/each}}
        </ul>
        <div class="tab-content col-md-10">
            {{#each restaurants}}
            <div class="tab-pane" id="restaurant{{this.id}}" style="max-width: 1200px;">
                <ul>
                    {{#each this.menu}}
                    <li>
                        {{{this.menuItemWithoutPrice}}}
                        <div style="float: right; display: inline-block;">
                        {{{this.price}}}
                        </div>
                    </li>
                    {{else}}
                    <li>Smola, dnes žiaden obed :-(</li>
                    {{/each}}
                </ul>

            </div>
            {{/each}}
        </div>
    </div>
</div>

<nav class="navbar navbar-default navbar-fixed-bottom visible-lg" role="navigation" style="font-size: 15px;">
    <div class="container-fluid">
        <div class="row">

            <div>

                <div class="alert alert-warning"><b>Tip:</b> na navigáciu medzi reštauráciami môžete použiť šípky <i>HORE</i>
                    a
                    <i>DOLE</i>.
                </div>

                <div class="row well">
                    <div class="col-md-2">
                        <a href="http://en.wikipedia.org/wiki/Copyleft" target="_blank" title="copyleft"
                           style="display: inline-block; -webkit-transform: scaleX(-1); transform: scaleX(-1);">©</a>
                        ALL WRONGS RESERVED
                    </div>
                    <div class="col-md-1 col-md-offset-9">
                        <a style="float: right" href="https://github.com/jakub-sturc/at11" target="_blank"
                           class="github">GitHub</a>
                    </div>
                </div>
            </div>
        </div>

    </div>
</nav>

<!--<footer>-->
    <!--<div class="container visible-lg" style="position: fixed; bottom: 0; width: 100%; font-size: 15px;">-->
    <!--</div>-->

<!--</footer>-->

</body>
</html>
